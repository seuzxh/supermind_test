# SuperMind é‡åŒ–å¹³å°ç­–ç•¥å¼€å‘å®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•
1. [å¹³å°æ¦‚è¿°](#å¹³å°æ¦‚è¿°)
2. [åŠŸèƒ½æ¨¡å—è¯¦è§£](#åŠŸèƒ½æ¨¡å—è¯¦è§£)
3. [ç­–ç•¥å¼€å‘æµç¨‹](#ç­–ç•¥å¼€å‘æµç¨‹)
4. [å›æµ‹ç³»ç»Ÿä½¿ç”¨](#å›æµ‹ç³»ç»Ÿä½¿ç”¨)
5. [è°ƒè¯•æŠ€å·§ä¸å·¥å…·](#è°ƒè¯•æŠ€å·§ä¸å·¥å…·)
6. [å®ç›˜äº¤æ˜“éƒ¨ç½²](#å®ç›˜äº¤æ˜“éƒ¨ç½²)
7. [å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
8. [æœ€ä½³å®è·µå»ºè®®](#æœ€ä½³å®è·µå»ºè®®)

## å¹³å°æ¦‚è¿°

SuperMindæ˜¯åŒèŠ±é¡ºæ——ä¸‹çš„ä¸“ä¸šé‡åŒ–æŠ•ç ”å¹³å°ï¼Œæä¾›ä»ç­–ç•¥ç ”å‘åˆ°å®ç›˜äº¤æ˜“çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒç‰¹æ€§
- **ç ”ç©¶ç¯å¢ƒ**: åŸºäºJupyter Notebook/JupyterLabçš„Pythonå¼€å‘ç¯å¢ƒ
- **å›æµ‹å¼•æ“**: å¼ºå¤§çš„å†å²æ•°æ®å›æµ‹åŠŸèƒ½
- **å®ç›˜äº¤æ˜“**: æ”¯æŒå›æµ‹ä»£ç ä¸€é”®å®ç›˜
- **æ•°æ®æœåŠ¡**: ä¸°å¯Œçš„é‡‘èæ•°æ®å’Œé—®è´¢è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ¥å£
- **å› å­ç ”ç©¶**: ä¸“ä¸šçš„å› å­æŒ–æ˜å’Œåˆ†æå·¥å…·

## åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. ç­–ç•¥ç ”ç©¶ (Strategy Research)

**åŠŸèƒ½å®šä½**: ç­–ç•¥å¼€å‘å’Œå›æµ‹çš„æ ¸å¿ƒæ¨¡å—

**ä¸»è¦åŠŸèƒ½**:
- åŸºäºJupyter Notebookçš„äº¤äº’å¼å¼€å‘ç¯å¢ƒ
- Python 3.5/3.8ç¯å¢ƒæ”¯æŒ
- é›†æˆä¸°å¯Œçš„æ•°æ®ç§‘å­¦åº“
- å®æ—¶ä»£ç è°ƒè¯•å’Œæµ‹è¯•
- ç­–ç•¥å›æµ‹å’Œç»©æ•ˆåˆ†æ

**ä½¿ç”¨åœºæ™¯**:
- æ–°ç­–ç•¥çš„åŸå‹å¼€å‘
- ç­–ç•¥é€»è¾‘éªŒè¯å’Œä¼˜åŒ–
- æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- å› å­ç ”ç©¶å’Œæ¨¡å‹è®­ç»ƒ

### 2. ç»©æ•ˆåˆ†æ (Performance Analysis)

**åŠŸèƒ½å®šä½**: ç­–ç•¥å›æµ‹ç»“æœçš„ä¸“ä¸šåˆ†æå·¥å…·

**ä¸»è¦åŠŸèƒ½**:
- æ”¶ç›Šç‡åˆ†æï¼ˆç»å¯¹æ”¶ç›Šã€ç›¸å¯¹æ”¶ç›Šï¼‰
- é£é™©æŒ‡æ ‡è®¡ç®—ï¼ˆå¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤ã€æ³¢åŠ¨ç‡ï¼‰
- äº¤æ˜“ç»Ÿè®¡åˆ†æï¼ˆèƒœç‡ã€ç›ˆäºæ¯”ã€äº¤æ˜“é¢‘ç‡ï¼‰
- åŸºå‡†æ¯”è¾ƒå’Œå½’å› åˆ†æ
- å¯è§†åŒ–å›¾è¡¨å’ŒæŠ¥å‘Šç”Ÿæˆ

**å…³é”®æŒ‡æ ‡**:
```
- æ€»æ”¶ç›Šç‡ (Total Return)
- å¹´åŒ–æ”¶ç›Šç‡ (Annualized Return)
- å¤æ™®æ¯”ç‡ (Sharpe Ratio)
- æœ€å¤§å›æ’¤ (Maximum Drawdown)
- ä¿¡æ¯æ¯”ç‡ (Information Ratio)
- èƒœç‡ (Win Rate)
- ç›ˆäºæ¯” (Profit/Loss Ratio)
```

### 3. æŒ‡æ ‡ç­–ç•¥ (Indicator Strategy)

**åŠŸèƒ½å®šä½**: åŸºäºæŠ€æœ¯æŒ‡æ ‡çš„ç­–ç•¥å¼€å‘å’Œæµ‹è¯•

**ä¸»è¦åŠŸèƒ½**:
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—å’Œå¯è§†åŒ–
- æŒ‡æ ‡å‚æ•°ä¼˜åŒ–
- å¤šæŒ‡æ ‡ç»„åˆç­–ç•¥
- ä¿¡å·ç”Ÿæˆå’Œå›æµ‹
- æŒ‡æ ‡æœ‰æ•ˆæ€§æ£€éªŒ

**å¸¸ç”¨æŒ‡æ ‡**:
- ç§»åŠ¨å¹³å‡çº¿ (MA, EMA)
- ç›¸å¯¹å¼ºå¼±æŒ‡æ•° (RSI)
- MACDæŒ‡æ ‡
- å¸ƒæ—å¸¦ (Bollinger Bands)
- éšæœºæŒ‡æ ‡ (KDJ)

### 4. å› å­ç­–ç•¥ (Factor Strategy)

**åŠŸèƒ½å®šä½**: é‡åŒ–å› å­çš„æŒ–æ˜ã€åˆ†æå’Œç­–ç•¥åŒ–

**ä¸»è¦åŠŸèƒ½**:
- å› å­æŒ–æ˜å’Œè®¡ç®—
- å› å­æœ‰æ•ˆæ€§æ£€éªŒ
- å¤šå› å­æ¨¡å‹æ„å»º
- å› å­ç»„åˆä¼˜åŒ–
- é£é™©æ¨¡å‹é›†æˆ

**å› å­ç±»å‹**:
- ä»·å€¼å› å­ (PE, PB, PSç­‰)
- æˆé•¿å› å­ (è¥æ”¶å¢é•¿ã€åˆ©æ¶¦å¢é•¿ç­‰)
- è´¨é‡å› å­ (ROE, ROAç­‰)
- æŠ€æœ¯å› å­ (åŠ¨é‡ã€åè½¬ç­‰)
- æƒ…ç»ªå› å­ (æ¢æ‰‹ç‡ã€æ³¢åŠ¨ç‡ç­‰)

### 5. ç­–ç•¥ç›‘æ§ (Strategy Monitoring)

**åŠŸèƒ½å®šä½**: å®ç›˜ç­–ç•¥çš„å®æ—¶ç›‘æ§å’Œç®¡ç†

**ä¸»è¦åŠŸèƒ½**:
- å®æ—¶æŒä»“ç›‘æ§
- ç­–ç•¥ç»©æ•ˆè·Ÿè¸ª
- é£é™©æŒ‡æ ‡ç›‘æ§
- å¼‚å¸¸æƒ…å†µé¢„è­¦
- æ—¥å¿—è®°å½•å’Œåˆ†æ

**ç›‘æ§æŒ‡æ ‡**:
- å®æ—¶æ”¶ç›Šç‡
- æŒä»“åˆ†å¸ƒ
- èµ„é‡‘åˆ©ç”¨ç‡
- é£é™©æš´éœ²
- äº¤æ˜“æ‰§è¡Œæƒ…å†µ

### 6. ç­–ç•¥åº“ (Strategy Library)

**åŠŸèƒ½å®šä½**: ç­–ç•¥çš„å­˜å‚¨ã€ç‰ˆæœ¬ç®¡ç†å’Œåˆ†äº«

**ä¸»è¦åŠŸèƒ½**:
- ç­–ç•¥ä»£ç ç®¡ç†
- ç‰ˆæœ¬æ§åˆ¶
- å‚æ•°é…ç½®ç®¡ç†
- ç­–ç•¥åˆ†ç±»å’Œæ ‡ç­¾
- ç¤¾åŒºç­–ç•¥åˆ†äº«

## ç­–ç•¥å¼€å‘æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

1. **ä¸‹è½½å®¢æˆ·ç«¯**: ä¸‹è½½å¹¶å®‰è£…SuperMindå®¢æˆ·ç«¯
2. **è´¦å·æ³¨å†Œ**: æ³¨å†ŒåŒèŠ±é¡ºè´¦å·å¹¶ç™»å½•
3. **ç¯å¢ƒç†Ÿæ‚‰**: ç†Ÿæ‚‰ç ”ç©¶ç¯å¢ƒå’Œå„é¡¹åŠŸèƒ½

### ç¬¬äºŒæ­¥ï¼šç­–ç•¥è®¾è®¡

1. **ç­–ç•¥é€»è¾‘è®¾è®¡**: æ˜ç¡®æŠ•èµ„ç†å¿µå’Œäº¤æ˜“é€»è¾‘
2. **æ•°æ®éœ€æ±‚åˆ†æ**: ç¡®å®šéœ€è¦çš„æ•°æ®ç±»å‹å’Œé¢‘ç‡
3. **é£é™©æ§åˆ¶è®¾è®¡**: è®¾ç½®æ­¢æŸã€ä»“ä½ç®¡ç†ç­‰é£æ§æœºåˆ¶

### ç¬¬ä¸‰æ­¥ï¼šä»£ç å¼€å‘

1. **åˆ›å»ºç ”ç©¶æ–‡ä»¶**: åœ¨ç ”ç©¶ç¯å¢ƒä¸­æ–°å»ºPythonæ–‡ä»¶
2. **ç¼–å†™ç­–ç•¥ä»£ç **: å®ç°ç­–ç•¥é€»è¾‘å’Œäº¤æ˜“è§„åˆ™
3. **æ•°æ®è·å–**: ä½¿ç”¨å¹³å°APIè·å–æ‰€éœ€æ•°æ®
4. **æŒ‡æ ‡è®¡ç®—**: è®¡ç®—æŠ€æœ¯æŒ‡æ ‡æˆ–å› å­å€¼

### ç¬¬å››æ­¥ï¼šå›æµ‹éªŒè¯

1. **å‚æ•°è®¾ç½®**: è®¾ç½®å›æµ‹æ—¶é—´æ®µã€åˆå§‹èµ„é‡‘ã€åŸºå‡†ç­‰
2. **æ‰§è¡Œå›æµ‹**: è¿è¡Œç­–ç•¥å›æµ‹è·å–ç»“æœ
3. **ç»©æ•ˆåˆ†æ**: åˆ†æå›æµ‹ç»“æœå’Œå„é¡¹æŒ‡æ ‡
4. **å‚æ•°ä¼˜åŒ–**: è°ƒæ•´ç­–ç•¥å‚æ•°ä¼˜åŒ–è¡¨ç°

### ç¬¬äº”æ­¥ï¼šé£é™©è¯„ä¼°

1. **ç¨³å¥æ€§æµ‹è¯•**: ä¸åŒå¸‚åœºç¯å¢ƒä¸‹çš„è¡¨ç°æµ‹è¯•
2. **æ•æ„Ÿæ€§åˆ†æ**: å…³é”®å‚æ•°å˜åŒ–çš„æ•æ„Ÿæ€§æµ‹è¯•
3. **æç«¯æƒ…å†µæµ‹è¯•**: å¸‚åœºæç«¯æƒ…å†µä¸‹çš„ç­–ç•¥è¡¨ç°

### ç¬¬å…­æ­¥ï¼šå®ç›˜éƒ¨ç½²

1. **æ¨¡æ‹Ÿäº¤æ˜“**: å…ˆè¿›è¡Œæ¨¡æ‹Ÿäº¤æ˜“éªŒè¯
2. **å°èµ„é‡‘è¯•è¿è¡Œ**: å°è§„æ¨¡èµ„é‡‘å®ç›˜æµ‹è¯•
3. **é€æ­¥æ‰©å¤§**: æ ¹æ®è¡¨ç°é€æ­¥æ‰©å¤§èµ„é‡‘è§„æ¨¡

## å›æµ‹ç³»ç»Ÿä½¿ç”¨

### å›æµ‹æ¥å£

**åŸºç¡€å›æµ‹æ¥å£**:
```python
# research_strategy - ç­–ç•¥å›æµ‹
research_strategy(
    code,           # ç­–ç•¥ä»£ç 
    start_date,     # å›æµ‹å¼€å§‹æ—¥æœŸ
    end_date,       # å›æµ‹ç»“æŸæ—¥æœŸ
    frequency,      # äº¤æ˜“é¢‘ç‡ ('day', 'minute')
    benchmark,      # åŸºå‡†æŒ‡æ•°
    initial_cash    # åˆå§‹èµ„é‡‘
)
```

**å¿«é€Ÿå®ç›˜æ¥å£**:
```python
# research_trade - å®ç›˜äº¤æ˜“
research_trade(
    strategy_name,  # ç­–ç•¥åç§°
    source_code,    # ç­–ç•¥ä»£ç 
    frequency,      # äº¤æ˜“é¢‘ç‡
    trade_api,      # äº¤æ˜“API
    signal_mode,    # ä¿¡å·æ¨¡å¼
    recover_dt      # æ¢å¤æ—¥æœŸ
)
```

### å›æµ‹å‚æ•°é…ç½®

```python
# åŸºæœ¬å‚æ•°è®¾ç½®
config = {
    'start_date': '2020-01-01',
    'end_date': '2023-12-31',
    'frequency': 'day',
    'benchmark': '000300.SH',
    'initial_cash': 1000000,
    'commission': PerOrder(buy_cost=3, sell_cost=5),
    'slippage': FixedSlippage(0.01)
}
```

### å›æµ‹ç»“æœåˆ†æ

**æ”¶ç›Šç‡åˆ†æ**:
- ç´¯è®¡æ”¶ç›Šç‡æ›²çº¿
- é˜¶æ®µæ”¶ç›Šç‡ç»Ÿè®¡
- ç›¸å¯¹åŸºå‡†è¡¨ç°

**é£é™©æŒ‡æ ‡**:
- å¤æ™®æ¯”ç‡: é£é™©è°ƒæ•´åæ”¶ç›Š
- æœ€å¤§å›æ’¤: æœ€å¤§æŸå¤±å¹…åº¦
- æ³¢åŠ¨ç‡: æ”¶ç›Šç‡æ ‡å‡†å·®

**äº¤æ˜“åˆ†æ**:
- äº¤æ˜“æ¬¡æ•°å’Œé¢‘ç‡
- å¹³å‡æŒä»“å‘¨æœŸ
- èƒœç‡å’Œç›ˆäºæ¯”

## è°ƒè¯•æŠ€å·§ä¸å·¥å…·

### 1. ç ”ç©¶ç¯å¢ƒè°ƒè¯•

**Jupyter Notebookè°ƒè¯•**:
```python
# ä½¿ç”¨printè¯­å¥è°ƒè¯•
print(f"å½“å‰æ—¥æœŸ: {context.trading_dt}")
print(f"è´¦æˆ·èµ„é‡‘: {context.portfolio.cash}")

# ä½¿ç”¨debugå·¥å…·
import pdb; pdb.set_trace()

# ä½¿ç”¨æ—¥å¿—è®°å½•
log.info("ç­–ç•¥æ‰§è¡Œä¸­")
log.warning("å‘ç°å¼‚å¸¸æƒ…å†µ")
```

**æ•°æ®å¯è§†åŒ–**:
```python
import matplotlib.pyplot as plt
import pandas as pd

# ç»˜åˆ¶ä»·æ ¼èµ°åŠ¿
plt.figure(figsize=(12, 6))
plt.plot(price_data['close'])
plt.title('è‚¡ç¥¨ä»·æ ¼èµ°åŠ¿')
plt.show()

# ç»˜åˆ¶ç­–ç•¥æ”¶ç›Šæ›²çº¿
returns.cumsum().plot(figsize=(12, 6))
```

### 2. ç­–ç•¥é€»è¾‘è°ƒè¯•

**åˆ†æ­¥éªŒè¯**:
```python
def handle_bar(context, bar_dict):
    # 1. è·å–æ•°æ®
    current_data = get_current_data()

    # 2. è®¡ç®—æŒ‡æ ‡
    ma5 = calculate_ma(context.stock, 5)
    ma20 = calculate_ma(context.stock, 20)

    # 3. è°ƒè¯•è¾“å‡º
    log.info(f"MA5: {ma5}, MA20: {ma20}")

    # 4. äº¤æ˜“é€»è¾‘
    if ma5 > ma20:
        order_target_percent(context.stock, 0.8)
        log.info(f"ä¹°å…¥ {context.stock}")
```

### 3. æ€§èƒ½ä¼˜åŒ–

**é¿å…é‡å¤è®¡ç®—**:
```python
# ç¼“å­˜è®¡ç®—ç»“æœ
@lru_cache(maxsize=100)
def calculate_indicator(symbol, date):
    # å¤æ‚è®¡ç®—é€»è¾‘
    return result

# æ‰¹é‡æ•°æ®è·å–
prices = get_price(stocks, count=20, fields=['close', 'volume'])
```

**æ§åˆ¶æŸ¥è¯¢é¢‘ç‡**:
```python
# å‡å°‘é«˜é¢‘æŸ¥è¯¢
if context.trading_dt.minute % 5 == 0:  # æ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
    # æ•°æ®è·å–å’Œäº¤æ˜“é€»è¾‘
    pass
```

## å®ç›˜äº¤æ˜“éƒ¨ç½²

### 1. å¿«é€Ÿå®ç›˜åŠŸèƒ½

**ä¸€é”®å®ç›˜**:
```python
# 1. ç¡®ä¿å®¢æˆ·ç«¯å·²ç™»å½•å¹¶è¿è¡Œ
# 2. åœ¨ç ”ç©¶ç¯å¢ƒä¸­è¿è¡Œä»¥ä¸‹ä»£ç 
from mindgo_api import *

# åˆå§‹åŒ–äº¤æ˜“API
trade_api = TradeAPI('èµ„é‡‘è´¦å·', MarketPolicy())

# è¿è¡Œç­–ç•¥
research_trade(
    'ç­–ç•¥åç§°',
    strategy_code,
    frequency='day',
    trade_api=trade_api,
    signal_mode=False,
    recover_dt='today'
)
```

### 2. å®ç›˜æ³¨æ„äº‹é¡¹

**ç¯å¢ƒè¦æ±‚**:
- å®¢æˆ·ç«¯å¿…é¡»ä¿æŒè¿è¡ŒçŠ¶æ€
- ç ”ç©¶ç¯å¢ƒéœ€è¦æ­£å¸¸å¯åŠ¨
- ç½‘ç»œè¿æ¥ç¨³å®š

**ä»£ç è¦æ±‚**:
- å…¨å±€å˜é‡å¿…é¡»å¯pickleåŒ–
- é¿å…é«˜é¢‘æŸ¥è¯¢è´¦æˆ·ä¿¡æ¯
- å¤„ç†ç½‘ç»œå¼‚å¸¸å’Œç³»ç»Ÿæ•…éšœ

**é£é™©æ§åˆ¶**:
```python
def init(context):
    # è®¾ç½®é£æ§å‚æ•°
    context.max_position = 0.8  # æœ€å¤§ä»“ä½
    context.max_single_stock = 0.2  # å•è‚¡æœ€å¤§ä»“ä½
    context.stop_loss = 0.1  # æ­¢æŸæ¯”ä¾‹

def handle_bar(context, bar_dict):
    # æ£€æŸ¥æ€»ä»“ä½
    current_position = context.portfolio.positions_value / context.portfolio.total_value
    if current_position > context.max_position:
        log.warning("ä»“ä½è¿‡é«˜ï¼Œæš‚åœäº¤æ˜“")
        return

    # å•ä¸ªè‚¡ç¥¨ä»“ä½æ§åˆ¶
    for stock, position in context.portfolio.positions.items():
        stock_ratio = position.total_amount * position.last_price / context.portfolio.total_value
        if stock_ratio > context.max_single_stock:
            order_target_percent(stock, context.max_single_stock)
```

### 3. ç›‘æ§å’Œç®¡ç†

**å®æ—¶ç›‘æ§**:
- ç­–ç•¥è¿è¡ŒçŠ¶æ€ç›‘æ§
- æ”¶ç›Šç‡å’Œé£é™©æŒ‡æ ‡è·Ÿè¸ª
- å¼‚å¸¸æƒ…å†µé¢„è­¦é€šçŸ¥

**æ—¥å¿—ç®¡ç†**:
```python
import logging

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('strategy.log'),
        logging.StreamHandler()
    ]
)

def handle_bar(context, bar_dict):
    logger = logging.getLogger('strategy')
    logger.info(f"ç­–ç•¥æ‰§è¡Œ - {context.trading_dt}")
```

## å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 1. ç ”ç©¶ç¯å¢ƒé—®é¢˜

**é—®é¢˜**: ç ”ç©¶ç¯å¢ƒå¡ä½æˆ–ä¸æ–­åˆ·æ–°
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- é‡å¯ç ”ç©¶ç¯å¢ƒ
- æ¸…ç†æµè§ˆå™¨ç¼“å­˜
- è”ç³»æŠ€æœ¯æ”¯æŒ

**é—®é¢˜**: ä»£ç è¿è¡Œç¼“æ…¢
**è§£å†³æ–¹æ¡ˆ**:
- ä¼˜åŒ–ç®—æ³•é€»è¾‘
- ä½¿ç”¨å‘é‡åŒ–æ“ä½œ
- å‡å°‘å¾ªç¯æ¬¡æ•°
- ç¼“å­˜è®¡ç®—ç»“æœ

### 2. å›æµ‹é—®é¢˜

**é—®é¢˜**: å›æµ‹ç»“æœä¸é¢„æœŸä¸ç¬¦
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
- éªŒè¯äº¤æ˜“é€»è¾‘
- è°ƒæ•´å‚æ•°è®¾ç½®
- å¢åŠ è°ƒè¯•è¾“å‡º

**é—®é¢˜**: å›æµ‹é€Ÿåº¦å¤ªæ…¢
**è§£å†³æ–¹æ¡ˆ**:
- ç¼©çŸ­å›æµ‹æ—¶é—´èŒƒå›´
- å‡å°‘è‚¡ç¥¨æ± è§„æ¨¡
- ä¼˜åŒ–ä»£ç æ•ˆç‡
- ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•

### 3. å®ç›˜é—®é¢˜

**é—®é¢˜**: å®ç›˜ä¸å›æµ‹å·®å¼‚å¤§
**è§£å†³æ–¹æ¡ˆ**:
- è€ƒè™‘äº¤æ˜“æˆæœ¬å’Œæ»‘ç‚¹
- å¤„ç†åˆå§‹æŒä»“é—®é¢˜
- ä¼˜åŒ–è®¢å•æ‰§è¡Œé€»è¾‘
- å¢åŠ å®¹é”™æœºåˆ¶

**é—®é¢˜**: ç­–ç•¥æ— æ³•å¯åŠ¨
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥è´¦æˆ·æƒé™
- éªŒè¯ä»£ç è¯­æ³•
- ç¡®è®¤ç½‘ç»œè¿æ¥
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

## æœ€ä½³å®è·µå»ºè®®

### 1. ç­–ç•¥å¼€å‘

**æ¨¡å—åŒ–è®¾è®¡**:
```python
# æ•°æ®è·å–æ¨¡å—
def get_market_data(stocks, start_date, end_date):
    # æ•°æ®è·å–é€»è¾‘
    return data

# æŒ‡æ ‡è®¡ç®—æ¨¡å—
def calculate_indicators(data):
    # æŒ‡æ ‡è®¡ç®—é€»è¾‘
    return indicators

# ä¿¡å·ç”Ÿæˆæ¨¡å—
def generate_signals(indicators):
    # ä¿¡å·ç”Ÿæˆé€»è¾‘
    return signals

# äº¤æ˜“æ‰§è¡Œæ¨¡å—
def execute_trading(context, signals):
    # äº¤æ˜“æ‰§è¡Œé€»è¾‘
    pass
```

**é…ç½®ç®¡ç†**:
```python
# ç­–ç•¥å‚æ•°é…ç½®
config = {
    'universe': ['000001.SZ', '000002.SZ'],
    'lookback_period': 20,
    'rebalance_frequency': 'M',
    'max_position': 0.8,
    'min_position': 0.1
}

# é£æ§å‚æ•°é…ç½®
risk_config = {
    'max_drawdown': 0.15,
    'stop_loss': 0.08,
    'position_limit': 0.2
}
```

### 2. é£é™©ç®¡ç†

**å¤šå±‚é£æ§**:
```python
# ç­–ç•¥å±‚é¢é£æ§
def strategy_risk_control(context):
    # æ•´ä½“é£é™©æ§åˆ¶
    if context.portfolio.returns < -0.1:
        return False  # æš‚åœäº¤æ˜“
    return True

# ä¸ªè‚¡å±‚é¢é£æ§
def stock_risk_control(context, stock):
    position = context.portfolio.positions[stock]
    if position and position.last_price < position.avg_cost * 0.9:
        return False  # ä¸ªè‚¡æ­¢æŸ
    return True

# ç»„åˆå±‚é¢é£æ§
def portfolio_risk_control(context):
    total_position = context.portfolio.positions_value / context.portfolio.total_value
    if total_position > 0.9:
        return False  # æ§åˆ¶æ€»ä»“ä½
    return True
```

### 3. æ€§èƒ½ä¼˜åŒ–

**æ•°æ®å¤„ç†ä¼˜åŒ–**:
```python
# ä½¿ç”¨pandaså‘é‡åŒ–æ“ä½œ
def calculate_returns(prices):
    return prices.pct_change()

# é¿å…å¾ªç¯æŸ¥è¯¢
stocks_data = get_price(stock_pool, count=100, fields=['close', 'volume'])

# æ‰¹é‡å¤„ç†
def batch_process(data, batch_size=100):
    for i in range(0, len(data), batch_size):
        yield data[i:i+batch_size]
```

**å†…å­˜ç®¡ç†**:
```python
# åŠæ—¶é‡Šæ”¾å†…å­˜
import gc

def process_large_data():
    # å¤„ç†å¤§æ•°æ®
    result = process_function(large_data)

    # é‡Šæ”¾å†…å­˜
    del large_data
    gc.collect()

    return result
```

### 4. ç›‘æ§å’Œç»´æŠ¤

**å¥åº·æ£€æŸ¥**:
```python
def health_check(context):
    checks = {
        'data_quality': check_data_quality(),
        'system_status': check_system_status(),
        'account_status': check_account_status(context),
        'network_status': check_network_status()
    }

    for check_name, status in checks.items():
        if not status:
            log.warning(f"å¥åº·æ£€æŸ¥å¤±è´¥: {check_name}")

    return all(checks.values())
```

**å®šæœŸç»´æŠ¤**:
- ç­–ç•¥å‚æ•°å®šæœŸé‡æ–°æ ¡å‡†
- æ•°æ®è´¨é‡å®šæœŸæ£€æŸ¥
- ç³»ç»Ÿæ€§èƒ½ç›‘æ§
- é£é™©æŒ‡æ ‡è·Ÿè¸ªåˆ†æ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **å®˜æ–¹æ–‡æ¡£**: https://quant.10jqka.com.cn/view/help
- **æŠ€æœ¯äº¤æµ**: SuperMindå®˜æ–¹ç¤¾åŒº
- **é—®é¢˜åé¦ˆ**: SuperMind@myhexin.com
- **ä½¿ç”¨æ•™ç¨‹**: åŒèŠ±é¡ºSuperMindä½¿ç”¨æ•™ç¨‹ï¼ˆæ±‡æ€»ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-10-26
**ç»´æŠ¤è€…**: Claude Code AI Assistant

*æœ¬æ–‡æ¡£å°†æ ¹æ®SuperMindå¹³å°çš„æ›´æ–°æŒç»­ç»´æŠ¤å’Œå®Œå–„ã€‚*